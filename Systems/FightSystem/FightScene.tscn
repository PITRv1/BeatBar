[gd_scene load_steps=11 format=3 uid="uid://bq5msg8cvapkn"]

[ext_resource type="Script" uid="uid://b5o4ecqcegu0o" path="res://Systems/FightSystem/FightManager.cs" id="1_fcsjg"]
[ext_resource type="Theme" uid="uid://db6j0xu6r0484" path="res://Assets/GameTheme.tres" id="2_e1xvf"]
[ext_resource type="FontFile" uid="uid://d0480bk3i77km" path="res://Assets/Fonts/Montague.ttf" id="3_6h1pc"]
[ext_resource type="Texture2D" uid="uid://b0vg6mhjc386m" path="res://Assets/Images/BeatMeaterBase.png" id="3_ima3f"]
[ext_resource type="FontFile" uid="uid://ciq30a7ewl7n" path="res://Assets/Fonts/TEXAT BOLD PERSONAL USE___.otf" id="3_q7xpu"]
[ext_resource type="StyleBox" uid="uid://cb4okpax0kla1" path="res://Assets/FightButtonPanel.tres" id="4_ima3f"]

[sub_resource type="LabelSettings" id="LabelSettings_swktf"]
font = ExtResource("3_6h1pc")
font_size = 500
outline_size = 145
outline_color = Color(0, 0, 0, 1)
stacked_shadow_count = 1
stacked_shadow_0/offset = Vector2(27, 27)
stacked_shadow_0/color = Color(0, 0, 0, 0.08235294)
stacked_shadow_0/outline_size = 100

[sub_resource type="Animation" id="Animation_swktf"]
resource_name = "countDown"
length = 3.6805
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RichTextLabel:text")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": ["3", "2", "1", "BEAT!"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("RichTextLabel:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.11, 3.2333333, 3.5666666),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("RichTextLabel:scale")
tracks/2/interp = 2
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(1.4901161e-08, 0.13333334, 0.8666667, 1, 1.1333333, 1.8666668, 2, 2.1333334, 2.8666666, 3, 3.1333332),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(1.1, 1.1), Vector2(0.9, 0.9), Vector2(0.9, 0.9), Vector2(1.2, 1.2), Vector2(0.9, 0.9), Vector2(0.9, 0.9), Vector2(1.3, 1.3), Vector2(0.9, 0.9), Vector2(0.9, 0.9), Vector2(1.4, 1.4), Vector2(0.9, 0.9)]
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("RichTextLabel:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0.43284166, -0.011666667, -0.07214028, 0, 0, -0.43458697, -0.015, 0.14457145, 0, 0, 0, -0.011666669, -0.07243116, 0, 0, 0, -0.25, 0, 0.25, 0, 0.43284166, -0.011666667, -0.07214028, 0, 0, -0.43458697, -0.015, 0.14457145, 0, 0, 0, -0.011666669, -0.07243116, 0, 0, 0, -0.25, 0, 0.25, 0, 0.43284166, -0.011666667, -0.07214028, 0, 0, -0.43458697, -0.015, 0.14457145, 0, 0, 0, -0.011666669, -0.07243116, 0, 0, 0, -0.25, 0, 0.25, 0, 0.43284166, -0.011666667, -0.07214028, 0, 0, -0.43458697, -0.015, 0.14457145, 0, 0, 0, -0.011666669, -0.07243116, 0, 0),
"times": PackedFloat32Array(0, 0.07, 0.16, 0.23, 0.9366666, 1.0066667, 1.0966666, 1.1666666, 1.93, 2, 2.09, 2.1599998, 2.86, 2.9299998, 3.02, 3.09)
}

[sub_resource type="Animation" id="Animation_e1xvf"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RichTextLabel:text")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["3"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("RichTextLabel:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("RichTextLabel:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("RichTextLabel:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_6h1pc"]
_data = {
&"RESET": SubResource("Animation_e1xvf"),
&"countDown": SubResource("Animation_swktf")
}

[node name="FightScene" type="Control" node_paths=PackedStringArray("playerOneBeatMeater", "playerTwoBeatMeater", "countdownAnimator", "fightButton")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_fcsjg")
playerOneBeatMeater = NodePath("HBoxContainer/Control/PlayerOneBeatMeater")
playerTwoBeatMeater = NodePath("HBoxContainer/Control2/PlayerTwoBeatMeater")
countdownAnimator = NodePath("AnimationPlayer")
fightButton = NodePath("SpaceBarHolder/Button")

[node name="HBoxContainer" type="HBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Control" type="Control" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="PlayerOneBeatMeater" type="ProgressBar" parent="HBoxContainer/Control"]
layout_mode = 1
anchors_preset = 9
anchor_bottom = 1.0
offset_left = 68.0
offset_top = 73.0
offset_right = 183.0
offset_bottom = -73.0
grow_vertical = 2
theme = ExtResource("2_e1xvf")
value = 100.0
fill_mode = 3
show_percentage = false

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/Control"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = -12.0
offset_top = -240.0
offset_right = 263.92728
offset_bottom = -19.0
grow_vertical = 0
texture = ExtResource("3_ima3f")
expand_mode = 1
stretch_mode = 5

[node name="Control2" type="Control" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="PlayerTwoBeatMeater" type="ProgressBar" parent="HBoxContainer/Control2"]
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -181.82
offset_top = 73.0
offset_right = -66.82001
offset_bottom = -73.0
grow_horizontal = 0
grow_vertical = 2
theme = ExtResource("2_e1xvf")
value = 100.0
fill_mode = 3
show_percentage = false

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/Control2"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -262.0
offset_top = -240.0
offset_right = 13.927246
offset_bottom = -19.0
grow_horizontal = 0
grow_vertical = 0
texture = ExtResource("3_ima3f")
expand_mode = 1
stretch_mode = 5

[node name="RichTextLabel" type="Label" parent="."]
modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -564.0
offset_top = -485.0
offset_right = 564.0
offset_bottom = 397.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(564, 441)
text = "3"
label_settings = SubResource("LabelSettings_swktf")
horizontal_alignment = 1
vertical_alignment = 1
metadata/_edit_lock_ = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_6h1pc")
}

[node name="SpaceBarHolder" type="Control" parent="."]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -400.0
offset_top = -259.0
offset_right = 400.0
offset_bottom = -118.0
grow_horizontal = 2
grow_vertical = 0

[node name="Button" type="Button" parent="SpaceBarHolder"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(400, 71)
theme_override_fonts/font = ExtResource("3_q7xpu")
theme_override_font_sizes/font_size = 96
theme_override_styles/normal = ExtResource("4_ima3f")
theme_override_styles/pressed = ExtResource("4_ima3f")
theme_override_styles/hover = ExtResource("4_ima3f")
theme_override_styles/focus = ExtResource("4_ima3f")
text = "SPACEBAR"

[connection signal="pressed" from="SpaceBarHolder/Button" to="." method="_OnPlayerOneBeat"]
